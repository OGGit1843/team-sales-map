<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hance Group • Team Sales Map</title>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Leaflet Fullscreen Plugin -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.fullscreen@3.0.2/Control.FullScreen.css" />
  <script src="https://unpkg.com/leaflet.fullscreen@3.0.2/Control.FullScreen.js"></script>

  <!-- MarkerCluster (REQUIRED for clustering) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

  <!-- Papa Parse -->
  <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>

  <link rel="stylesheet" href="./style.css?v=10" />
</head>

<body>
  <div id="map"></div>

  <!-- Hidden UI template injected into Leaflet control -->
  <template id="uiTemplate">
    <div class="hg-panel" id="hgPanel">
      <div class="hg-panel__header">
        <div class="hg-title">Hance Group • Team Sales Map</div>
        <button class="hg-close" id="hgCloseBtn" type="button" aria-label="Close filters">✕</button>
      </div>

      <div class="hg-row">
        <div class="hg-label">Year</div>
        <select id="yearSelect">
          <option value="all">All</option>
        </select>
      </div>

      <div class="hg-row hg-row--stack">
        <div class="hg-label">Property Type</div>
        <label class="hg-check">
          <input class="ptype" type="checkbox" value="Residential" checked />
          Residential
        </label>
        <label class="hg-check">
          <input class="ptype" type="checkbox" value="Commercial" checked />
          Commercial
        </label>
        <label class="hg-check">
          <input class="ptype" type="checkbox" value="Multi-Family" checked />
          Multi-Family
        </label>
        <label class="hg-check">
          <input class="ptype" type="checkbox" value="Land" checked />
          Land
        </label>
      </div>

      <div id="stats" class="hg-stats">Loading…</div>

      <div class="hg-actions">
        <a class="hg-link" id="hgOpenStandalone" href="#" target="_blank" rel="noopener">
          Open fullscreen in new tab
        </a>
      </div>

      <div class="hg-hint">
        Tip: If fullscreen doesn’t work inside Google Sites, use the link above.
      </div>
    </div>

    <!-- Mobile-only floating open button -->
    <button class="hg-open" id="hgOpenBtn" type="button">Filters</button>
  </template>

  <script src="./app.js?v=10"></script>
</body>
</html>
